flowchart TD
    classDef startend fill:#fff,stroke:#000,stroke-width:2px,rx:10,ry:10;
    classDef io fill:#fff,stroke:#000,stroke-width:1px,slant:45;
    classDef decision fill:#fff,stroke:#000,stroke-width:1px,shape:diamond;
    classDef process fill:#fff,stroke:#000,stroke-width:1px;
    classDef func fill:#fff,stroke:#000,stroke-width:1px,shape:rect;

    Start([Start]) --> InitSub["subtotal = 0.0"]
    InitSub --> CheckEmpty{"cartItemCount == 0?"}
    
    CheckEmpty -- Yes --> MsgEmpty[/"Display 'Cart Empty'"/]
    MsgEmpty --> Return([Return])
    
    CheckEmpty -- No --> PrintHead[/"Print Table Header"/]
    PrintHead --> InitLoop["Set i = 0"]
    
    InitLoop --> LoopCond{"i < cartItemCount?"}
    
    %% Loop Body
    LoopCond -- True --> GetProd[[Call findProductIndexById]]
    GetProd --> CalcItem["itemTotal = price * quantity"]
    CalcItem --> AddSub["subtotal += itemTotal"]
    AddSub --> PrintRow[/"Display Item Details"/]
    PrintRow --> Inc["i++"]
    Inc --> LoopCond
    
    %% End Loop
    LoopCond -- False --> PrintSub[/"Display Final Subtotal"/]
    PrintSub --> Return

    class Start,Return startend;
    class MsgEmpty,PrintHead,PrintRow,PrintSub io;
    class CheckEmpty,LoopCond decision;
    class InitSub,InitLoop,CalcItem,AddSub,Inc process;
    class GetProd func;